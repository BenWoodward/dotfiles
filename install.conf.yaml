- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- shell:
    - ["sudo mkdir -p /usr/local/dotbot", Creating shared dir in /usr/local]
    -
      command: sudo rm -R ~/Library/Application\ Support/obs-studio/basic/scenes
      description: Deleting OBS scenes dir before symlinking]
    -
      command: sudo chmod -R 555 ~/.dotfiles/Library/Application\ Support/obs-studio/basic/scenes
      description: Preventing OBS overwriting scene files by chmod'ing the directory
    -
      command: sudo cp Library/Application\ Support/obs-studio/basic/scenes/vertical-divider.png /usr/local/dotbot
      description: Copying OBS assets to shared /usr/local/dotbot dir
    - ["sudo chmod 777 /usr/local/dotbot/vertical-divider.png", Making shared OBS assets readable]

- link:
    ~/.config/nvim:
        path: .config/nvim
    ~/.config/karabiner: .config/karabiner
    ~/.config/iterm2: .config/iterm2
    ~/.zshrc: .zshrc
    ~/.zshrc.vimode: .zshrc.vimode
    ~/.gitconfig: .gitconfig
    ~/.gitignore: .global_gitignore
    ~/.ctags: .ctags
    ~/Library/Preferences/com.mizage.Divvy.plist: Library/Preferences/com.mizage.Divvy.plist
    ~/Library/Application Support/obs-studio/basic/scenes: Library/Application Support/obs-studio/basic/scenes

- shell:
    - ["git submodule update --init --recursive", Installing/updating submodules]
    - ["git submodule foreach git pull origin master", Updating submodule contents]
    - ["date > ~/.dotfiles_update", Logging last update]
    # - nvim +'PlugInstall --sync' +'PlugUpdate' +qa

